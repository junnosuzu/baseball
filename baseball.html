

<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>マウンド→ベース 速度変換ツール</title>
  <style>
    body{font-family:system-ui,-apple-system, "Hiragino Kaku Gothic ProN", "Yu Gothic", Meiryo, sans-serif; padding:24px; background:#f7fafc}
    .card{background:#fff;border-radius:12px;padding:20px;max-width:720px;margin:12px auto;box-shadow:0 6px 18px rgba(20,20,40,0.06)}
    h1{font-size:20px;margin:0 0 12px}
    label{display:block;margin:12px 0 6px;font-weight:600}
    input[type=number]{width:160px;padding:8px;border-radius:8px;border:1px solid #ddd}
    .row{display:flex;gap:12px;align-items:center}
    button{margin-top:14px;padding:10px 14px;border-radius:10px;border:0;background:#0ea5a4;color:#fff;font-weight:700;cursor:pointer}
    .result{margin-top:16px;padding:12px;background:#eef7f6;border-radius:10px}
    .note{margin-top:10px;color:#555;font-size:13px}
    small.keyboard{display:block;margin-top:8px;color:#666}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>マウンド→ベース（18.44 m）速度変換ツール</h1>
    <p>動画でボールがマウンドからホームベースへ到達するのにかかった時間を入力すると、平均速度（km/h）を計算します。</p>

    <label for="seconds">1) 動画での経過時間（秒） — <code>a</code></label>
    <input id="seconds" type="number" min="0" step="any" placeholder="例: 0.12" />

    <label for="denom">2) 何分の1倍速のビデオを使ったか — <code>b</code></label>
    <input id="denom" type="number" min="0.0001" step="any" placeholder="例: 2 （1/2倍速なら 2）" />

    <div class="row">
      <button id="calc" type="button">計算する</button>
      <button id="clear" type="button">クリア</button>
    </div>

    <div id="out" class="result" aria-live="polite">結果がここに表示されます。</div>

    <p class="note">実装した計算式はご指定どおりです：<br><code>(18.44*10^(-3)) / ( a / (3600 * b) )</code><br>（出力は km/h）</p>
    <small class="keyboard">※ 無効な入力（0 や空欄）はエラーになります。必要なら実時間を使う式へ変更できます。</small>
  </main>

  <script>
    // 定数（18.44 m を km に変換）
    const DIST_KM = 18.44 * Math.pow(10, -3); // 0.01844 km

    const elA = document.getElementById('seconds');
    const elB = document.getElementById('denom');
    const out = document.getElementById('out');
    const btn = document.getElementById('calc');
    const clearBtn = document.getElementById('clear');

    function formatNum(x, digits=2){
      if(!isFinite(x)) return '計算できません';
      return Number(x).toLocaleString(undefined, {maximumFractionDigits: digits});
    }

    function compute(){
      const a = parseFloat(elA.value);
      const b = parseFloat(elB.value);

      // 入力チェック
      if(isNaN(a) || isNaN(b)){
        out.textContent = '両方の欄に数値を入力してください。';
        return;
      }
      if(a <= 0 || b <= 0){
        out.textContent = '0 より大きい値を入力してください（秒・倍速ともに）。';
        return;
      }

      // ご指定の式をそのまま使う： (18.44*10^(-3)) / ( a / (3600 * b) )
      const hours = (a / (3600 * b)); // 分母に入る時間（時間単位）
      const speedKmh = DIST_KM / hours; // km/h

      // 追加で m/s も表示
      const speedMs = (speedKmh * 1000) / 3600;

      out.innerHTML = `平均速度：<strong>${formatNum(speedKmh,3)} km/h</strong><br>` +
                      `（換算: ${formatNum(speedMs,3)} m/s）`;
    }

    btn.addEventListener('click', compute);
    clearBtn.addEventListener('click', ()=>{
      elA.value=''; elB.value=''; out.textContent = '結果がここに表示されます。';
    });

    // Enter キーで計算
    [elA, elB].forEach(el => el.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') compute(); }));

    // 先にプレースホルダで例をセット（任意）
    elA.value = '';
    elB.value = '';
  </script>
</body>
</html>
